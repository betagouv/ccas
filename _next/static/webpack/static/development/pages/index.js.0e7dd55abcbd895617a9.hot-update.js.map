{"version":3,"file":"static/webpack/static/development/pages/index.js.0e7dd55abcbd895617a9.hot-update.js","sources":["webpack:///./components/horaire-input.js"],"sourcesContent":["import React, {useState, useCallback} from 'react'\n\n\n\nfunction HeureInput({value, value: {de, a}, onChange}) {\n  const handleDeChange = useCallback(event => {\n    if (!onChange) {\n      return\n    }\n\n    onChange(Object.assign({}, value, { de: event.target.value }))\n  })\n\n  const handleAChange = useCallback(event => {\n    if (!onChange) {\n      return\n    }\n\n    onChange(Object.assign({}, value, { a: event.target.value }))\n  })\n\n  let options = []\n  for (var h = 7; h <= 20; h++) {\n    for (var m = 0; m <60; m += 15) {\n       options.push(h.toString() + 'h' + (m ? m.toString(): ''))\n    }\n  }\n\n  return (\n      <div>\n      de\n      <select onChange={handleDeChange} defaultValue={de}>\n        { options.map((t,i) => <option value={t} key={i}>{t}</option>)}\n      </select>\n      Ã \n      <select onChange={handleAChange} defaultValue={a}>\n        { options.map((t,i) => <option value={t} key={i}>{t}</option>)}\n      </select>\n      </div>\n    )\n}\n\n\nfunction HeuresInput({value, onChange}) {\n  const handleAddition = useCallback(() => {\n    if (!onChange) {\n      return\n    }\n    const newArray = [].concat(value)\n    newArray.push({\n      de: '8h',\n      a: '17h'\n    })\n    onChange(newArray)\n  })\n\n  const handleChange = useCallback((newValue, index) => {\n    if (!onChange) {\n      return\n    }\n\n    const newArray = [].concat(value)\n    newArray[index] = newValue\n    onChange(newArray)\n  })\n\n  const handleDeletion = useCallback((index) => {\n    if (!onChange) {\n      return\n    }\n\n    const newArray = [].concat(value)\n    newArray.splice(index, 1)\n    onChange(newArray)\n  })\n\n  function heureKey(h,i) {\n    return `${i}_${h.de}_${h.a}`\n  }\n\n  return (\n      <div style={{\n        paddingLeft: '2em',\n      }}>\n        { value.map((h,i) => {\n          return (\n            <div key={heureKey(h,i)} style={{\n              display: 'flex'\n            }}>\n              <HeureInput onChange={value => handleChange(value, i)} value={h} />\n              <button onClick={e => handleDeletion(i)}>Supprimer cette plage horaire</button>\n            </div>\n          )}\n        )}\n        <button onClick={handleAddition}>Ajouter une plage horaire</button>\n      </div>\n    )\n}\n\nfunction HoraireInput({ value, value: {du, au, heures}, onChange }) {\n  const handleChange = useCallback((newValue, prop) => {\n    if (!onChange) {\n      return\n    }\n\n    onChange(Object.assign({}, value, { [prop]: newValue }))\n  })\n\n  const days = ['lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi', 'dimanche']\n  return (\n    <div>\n      Du\n      <select onChange={e => handleChange(e.target.value, 'du')} defaultValue={du}>\n        { days.map((d,i) => <option value={d} key={i}>{d}</option>)}\n      </select>\n      au\n      <select onChange={e => handleChange(e.target.value, 'au')} defaultValue={au}>\n        { days.map((d,i) => <option value={d} key={i}>{d}</option>)}\n      </select>\n      <HeuresInput onChange={v => handleChange(v, 'heures')} value={heures} />\n    </div>\n  ) \n}\n\nfunction HorairesInput({value, onChange}) {\n  const handleAddition = useCallback(() => {\n    if (!onChange) {\n      return\n    }\n    const newArray = [].concat(value)\n    newArray.push({\n      du: 'lundi',\n      au: 'vendredi',\n      heures: [{de: '8h', a: '17h'}]\n    })\n    onChange(newArray)\n  })\n\n  const handleChange = useCallback((newValue, index) => {\n    if (!onChange) {\n      return\n    }\n\n    const newArray = [].concat(value)\n    newArray[index] = newValue\n    onChange(newArray)\n  })\n\n  const handleDeletion = useCallback((index) => {\n    if (!onChange) {\n      return\n    }\n\n    const newArray = [].concat(value)\n    newArray.splice(index, 1)\n    onChange(newArray)\n  })\n\n  function jourKey(h,i) {\n    return `${i}_${h.de}_${h.a}`\n  }\n\n  return (\n      <div style={{\n        paddingLeft: '2em',\n      }}>\n        { value.map((h,i) => {\n          return (\n            <div key={jourKey(h,i)}>\n              <HoraireInput onChange={value => handleChange(value, i)} value={h} />\n              <button onClick={e => handleDeletion(i)}>Supprimer cette plage de jours</button>\n            </div>\n          )}\n        )}\n        <button onClick={handleAddition}>Ajouter une plage de jours</button>\n      </div>\n    )\n}\n\nexport default HorairesInput\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAHA;AAKA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}